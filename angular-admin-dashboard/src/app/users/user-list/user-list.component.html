<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<div class="dashboard-content">
    <h1>Customers</h1>
        <div class="fast-stats">
           <app-stats-card statsTitle="Total Customers" statsIcon="group" statsText="" [statsValue]="totalUsers"></app-stats-card>
           <app-stats-card statsTitle="New Customers" statsIcon="trending_up" statsText="Last 30 days" [statsValue]="newUsers"></app-stats-card>
           <app-stats-card statsTitle="Active Customers" statsIcon="history" statsText="Last 30 days" [statsValue]="activeCustomers"></app-stats-card>
           <app-stats-card statsTitle="Inactive Customers" statsIcon="pan_tool" statsText="Last 90 days" [statsValue]="inactiveCustomers"></app-stats-card>
        </div> 
    <app-user-form *ngIf="showUserForm" (userAdded)="onCustomerAdded($event)" (userCanceled)="onCustomerCanceled()"></app-user-form>
    <app-customer-edit-form *ngIf="showEditCustomerForm" (customerEdited)="onCustomertEdited($event)" (customerCanceled)="onCustomerCanceled()" 
        [id]="editingCustomerFields.id"
        [name]="editingCustomerFields.name" 
        [country]="editingCustomerFields.country" 
        [email]="editingCustomerFields.email" 
        >
    </app-customer-edit-form>
    <app-data-table (deleteClicked)="onCustomerDeleted($event)" (editClicked)="onEditCustomer($event)"
        [title]="''"
        [type]="'users'"
        (addClicked)="openForm()" 
        [columns]="usersTableConfig.columns"
        [displayedColumns]="usersTableConfig.displayedColumns"
        [dataSource]="usersTableConfig.dataSource">
    </app-data-table>
    <div class="container">
        <div class="row">
            <div class="col-6">
                    <app-pie-chart
                    [labels]="usersRolesPieConfig.labels"
                    [data]="usersRolesPieConfig.datasets[0].data"
                    title="Users' roles" 
                    [label]="usersRolesPieConfig.datasets[0].label">
                </app-pie-chart>
            </div>
            <div class="col-6">
                <app-pie-chart 
                [labels]="usersCountryPieConfig.labels"
                [data]="usersCountryPieConfig.datasets[0].data"
                title="Customers' countries" 
                [label]="usersCountryPieConfig.datasets[0].label">
            </app-pie-chart>
        </div>
    </div>
    </div>
    <!-- <div class="col-6">
        <app-bar-chart [chart]="usersCountryBarChart"></app-bar-chart>
        <app-line-chart [chart]="newUsersLineChart"></app-line-chart>     
        </div> -->
</div>