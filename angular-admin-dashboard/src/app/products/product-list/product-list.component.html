<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<div class="container">
    <h1>Products</h1>
        <div class="fast-stats">
           <app-stats-card statsTitle="Most Sales Category" statsIcon="sell" [statsText]="mostSalesCategory.category" [statsValue]="mostSalesCategory.sales"></app-stats-card>
           <app-stats-card statsTitle="Best Seller" statsIcon="grade" [statsText]="bestSeller.name" [statsValue]="bestSeller.sales"></app-stats-card>
           <app-stats-card statsTitle="Worst Seller" statsIcon="thumb_down" [statsText]="worstSeller.name" [statsValue]="worstSeller.sales"></app-stats-card>
           <app-stats-card statsTitle="Lowest Stock" statsIcon="warning" [statsText]="lowStock.name" [statsValue]="lowStock.stock"></app-stats-card>
        </div> 
    <app-product-form *ngIf="showProductForm" (productAdded)="onProductAdded($event)" (productCanceled)="onProductCanceled()" ></app-product-form>
    <app-product-edit-form *ngIf="showEditProductForm" (productEdited)="onProductEdited($event)" (productCanceled)="onProductCanceled()" 
    [name]="editingProductFields.name" [category]="editingProductFields.category" [price]="editingProductFields.price" [stock]="editingProductFields.stock" [id]="editingProductFields.id"></app-product-edit-form>
    
    <app-data-table (deleteClicked)="onProductDeleted($event)" (editClicked)="onEditProduct($event)"
        [title]="''"
        [type]="'products'"
        (addClicked)="openForm()" 
        [columns]="productTableConfig.columns"
        [displayedColumns]="productTableConfig.displayedColumns"
        [dataSource]="productTableConfig.dataSource">
    </app-data-table>
    <div class="charts-container">
        <div class="row">
            <div class="col-6">
                 <app-pie-chart 
                    [labels]="categorySalesPieConfig.labels"
                    [data]="categorySalesPieConfig.datasets[0].data"
                    title="Sales per categories" 
                    [label]="categorySalesPieConfig.datasets[0].label">
                </app-pie-chart>
            </div>
            <div class="col-6">
               <app-bar-chart 
                 [labels]="productSalesBarConfig.labels"
                [dataset]="productSalesBarConfig.datasets"
                title="Product's Sales">
                </app-bar-chart> 
                <app-line-chart
                 [labels]="productSalesLineConfig.labels"
                [dataset]="productSalesLineConfig.datasets"
                title="Anual sales per categories" 
                ></app-line-chart>     
            </div>
        </div>
        </div>
</div>